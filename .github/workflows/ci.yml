name: SSM to SES Python CI
run-name: ${{ github.repository }}-${{ github.actor }}-${{ github.ref }}-ci
on: [push]
env:
  LOG_LEVEL: debug
  PYPROJECT_PATH: ./code_quality/pyproject.toml
jobs:
  python-ruff-lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: set-up-python
        uses: actions/setup-python@v5
        with:
          python-version: "3.13"
      - name: build-virtual-env
        run: |
          echo -e "\033[1;32m**** BUILDING VIRTUAL ENVIRONMENT ****\033[0m"
          python3 -m venv venv
          source venv/bin/activate
      - name: install-lint-dependencies
        run: |
          echo -e "\033[1;32m**** INSTALLING LINT DEPENDENCIES ****\033[0m"
          pip install --upgrade pip
          pip install -r ./code_quality/lint/requirements.txt
      - name: ruff-lint
        run: |
          echo -e "\033[1;32m**** RUNNING RUFF LINT ****\033[0m"
          ruff check --config "${PYPROJECT_PATH}"
